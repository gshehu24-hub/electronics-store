package com.electronicstore.model.sales;

import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

import com.electronicstore.model.user.Cashier;

public class Bill {
    private String billNumber;
    private Cashier cashier;
    private LocalDateTime saleDate;
    private List<BillItem> items = new ArrayList<>();
    private double totalAmount;

    public Bill(String billNumber, Cashier cashier) {
        this.billNumber = billNumber;
        this.cashier = cashier;
        this.saleDate = LocalDateTime.now();
    }

    public void addItem(BillItem item) {
        items.add(item);
        calculateTotal();
    }

    public double calculateTotal() {
        totalAmount = items.stream().mapToDouble(BillItem::getLineTotal).sum();
        return totalAmount;
    }

    public void printBill() {
        System.out.println("Bill: " + billNumber + " Total: " + totalAmount);
    }

    public void saveToBinary() {
        // stub
    }

    public void saveToText() {
        // stub
    }
}
