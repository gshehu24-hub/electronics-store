@startuml ElectronicStore_Class_Diagram

title Electronic Store Management System - Class Diagram

' ==================== MODEL ====================

package "Model" {
  
  abstract class User {
    - userId: String
    - username: String
    - password: String
    - name: String
    - dateOfBirth: LocalDate
    - phoneNumber: String
    - email: String
    - salary: double
    - accessLevel: AccessLevel
    --
    + login(): boolean
    + logout(): void
    + getRole(): String
    + getPermissions(): List<String>
    + getUserId(): String
    + setUserId(userId: String): void
    + getUsername(): String
    + setUsername(username: String): void
    + getPassword(): String
    + setPassword(password: String): void
    + getName(): String
    + setName(name: String): void
    + getDateOfBirth(): LocalDate
    + setDateOfBirth(dateOfBirth: LocalDate): void
    + getPhoneNumber(): String
    + setPhoneNumber(phoneNumber: String): void
    + getEmail(): String
    + setEmail(email: String): void
    + getSalary(): double
    + setSalary(salary: double): void
    + getAccessLevel(): AccessLevel
    + setAccessLevel(accessLevel: AccessLevel): void
  }
  
  class Administrator {
    --
    + manageUser(): void
    + viewReport(): void
    + createUser(): void
    + deleteUser(): void
  }
  
  class Manager {
    - sectors: List<String>
    --
    + supplyStock(): void
    + applyDiscount(): void
    + manageInventory(): void
    + getSectors(): List<String>
    + setSectors(sectors: List<String>): void
  }
  
  class Cashier {
    - currentDayBills: List<String>
    --
    + createBill(): void
    + viewBills(): void
    + checkout(): void
    + getCurrentDayBills(): List<String>
    + setCurrentDayBills(currentDayBills: List<String>): void
  }
  
  class Item {
    - itemId: String
    - name: String
    - category: Category
    - supplier: Supplier
    - purchaseDate: LocalDate
    - purchasePrice: double
    - sellingPrice: double
    - stockQuantity: int
    - discount: double
    --
    + applyDiscount(percentage: double): void
    + updateStock(quantity: int): void
    + isInStock(): boolean
    + getFinalPrice(): double
    + getItemId(): String
    + setItemId(itemId: String): void
    + getName(): String
    + setName(name: String): void
    + getCategory(): Category
    + setCategory(category: Category): void
    + getSupplier(): Supplier
    + setSupplier(supplier: Supplier): void
    + getPurchaseDate(): LocalDate
    + setPurchaseDate(purchaseDate: LocalDate): void
    + getPurchasePrice(): double
    + setPurchasePrice(purchasePrice: double): void
    + getSellingPrice(): double
    + setSellingPrice(sellingPrice: double): void
    + getStockQuantity(): int
    + setStockQuantity(stockQuantity: int): void
    + getDiscount(): double
    + setDiscount(discount: double): void
  }
  
  class Category {
    - categoryId: String
    - name: String
    --
    + getCategoryId(): String
    + setCategoryId(categoryId: String): void
    + getName(): String
    + setName(name: String): void
  }
  
  class Supplier {
    - supplierId: String
    - name: String
    --
    + getSupplierId(): String
    + setSupplierId(supplierId: String): void
    + getName(): String
    + setName(name: String): void
  }
  
  class Bill {
    - billNumber: String
    - cashier: Cashier
    - saleDate: LocalDateTime
    - items: List<BillItem>
    - totalAmount: double
    --
    + addItem(item: BillItem): void
    + calculateTotal(): double
    + printBill(): void
    + saveToBinary(): void
    + saveToText(): void
    + getBillNumber(): String
    + setBillNumber(billNumber: String): void
    + getCashier(): Cashier
    + setCashier(cashier: Cashier): void
    + getSaleDate(): LocalDateTime
    + setSaleDate(saleDate: LocalDateTime): void
    + getItems(): List<BillItem>
    + setItems(items: List<BillItem>): void
    + getTotalAmount(): double
    + setTotalAmount(totalAmount: double): void
  }
  
  class BillItem {
    - item: Item
    - quantity: int
    - price: double
    --
    + getLineTotal(): double
    + getItem(): Item
    + setItem(item: Item): void
    + getQuantity(): int
    + setQuantity(quantity: int): void
    + getPrice(): double
    + setPrice(price: double): void
  }
  
  interface Report {
    + generate(): void
  }
  
  class SalesReport {
    - reportDate: LocalDate
    - totalSales: double
    --
    + generate(): void
    + getReportDate(): LocalDate
    + setReportDate(reportDate: LocalDate): void
    + getTotalSales(): double
    + setTotalSales(totalSales: double): void
  }
  
  class FinancialReport {
    - reportDate: LocalDate
    - totalRevenue: double
    --
    + generate(): void
    + getReportDate(): LocalDate
    + setReportDate(reportDate: LocalDate): void
    + getTotalRevenue(): double
    + setTotalRevenue(totalRevenue: double): void
  }
}

' ==================== REPOSITORY ====================

package "Repository" {
  interface Repository<T> {
    + save(entity: T): void
    + findById(id: String): T
    + findAll(): List<T>
    + update(entity: T): void
    + delete(id: String): void
  }
  
  interface UserRepository {
    + findByUsername(username: String): User
  }
  
  interface ItemRepository {
    + findByCategory(category: String): List<Item>
  }
  
  interface BillRepository {
    + findByDate(date: LocalDate): List<Bill>
  }
}

' ==================== CONTROLLER ====================

package "Controller" {
  class AuthenticationController {
    - userRepository: UserRepository
    --
    + authenticate(username: String, password: String): boolean
    + logout(): void
  }
  
  class AdminController {
    - userRepository: UserRepository
    - itemRepository: ItemRepository
    --
    + manageUsers(): void
    + viewReports(): void
  }
  
  class CashierController {
    - billRepository: BillRepository
    - itemRepository: ItemRepository
    --
    + createNewBill(): void
    + processCheckout(): void
  }
  
  class ManagerController {
    - itemRepository: ItemRepository
    --
    + manageInventory(): void
    + applyDiscounts(): void
  }
}

' ==================== VIEW ====================

package "View" {
  class LoginView {
    --
    + display(): void
    + getCredentials(): Map<String, String>
  }
  
  class AdminView {
    --
    + displayDashboard(): void
    + showUserManagement(): void
  }
  
  class CashierView {
    --
    + displayDashboard(): void
    + showBillingInterface(): void
  }
  
  class ManagerView {
    --
    + displayDashboard(): void
    + showInventoryManagement(): void
  }
}

' ==================== RELATIONSHIPS ====================

' User Inheritance
User <|-- Administrator
User <|-- Manager
User <|-- Cashier

' Report Implementation
Report <|.. SalesReport
Report <|.. FinancialReport

' Repository Hierarchy
Repository <|-- UserRepository
Repository <|-- ItemRepository
Repository <|-- BillRepository

' Model Associations
Item --> Category
Item --> Supplier
Bill --> Cashier
Bill *-- BillItem
BillItem --> Item

' Controller Layer
AuthenticationController --> UserRepository
AdminController --> UserRepository
AdminController --> ItemRepository
CashierController --> BillRepository
CashierController --> ItemRepository
ManagerController --> ItemRepository

' View Layer
AuthenticationController --> LoginView
AdminController --> AdminView
CashierController --> CashierView
ManagerController --> ManagerView

@enduml
